[gd_scene load_steps=42 format=3 uid="uid://cal1k7y5focn4"]

[ext_resource type="Script" path="res://scenes/map/map.gd" id="1_xvngj"]
[ext_resource type="PackedScene" uid="uid://sx7ejcssw0xi" path="res://scenes/player/player.tscn" id="2_0ktid"]
[ext_resource type="PackedScene" uid="uid://cxdyrnlbs0811" path="res://scenes/task_button/task_button.tscn" id="3_e0rk4"]
[ext_resource type="Script" path="res://scenes/map/camera.gd" id="3_gwvgv"]
[ext_resource type="PackedScene" uid="uid://dnni64h8l6jcd" path="res://scenes/map/scenes/wc.tscn" id="3_nbyec"]
[ext_resource type="PackedScene" uid="uid://buspc3xb5jkoq" path="res://scenes/minigames/fill_formulas/fill_formulas.tscn" id="4_6s3my"]
[ext_resource type="PackedScene" uid="uid://yk57h8tmiha6" path="res://scenes/map/scenes/sala_1.tscn" id="4_dojmv"]
[ext_resource type="Texture2D" uid="uid://dj1dqmbh77gan" path="res://scenes/task_button/assets/wifi.png" id="4_wgy3w"]
[ext_resource type="PackedScene" uid="uid://cwjp3351iq2cg" path="res://scenes/map/scenes/sala_2.tscn" id="5_ehcuo"]
[ext_resource type="PackedScene" uid="uid://cqjrgcofdp21m" path="res://scenes/minigames/reactor_memory_answer/reactor_memory_answer.tscn" id="5_pwcjb"]
[ext_resource type="PackedScene" uid="uid://t3ayjy0eflf" path="res://scenes/map/scenes/sala_3.tscn" id="6_j2fhe"]
[ext_resource type="Texture2D" uid="uid://c8p4e7u58fy7n" path="res://icon.svg" id="6_slh3o"]
[ext_resource type="PackedScene" uid="uid://q56d4alpaarl" path="res://scenes/map/scenes/xero.tscn" id="7_htmn5"]
[ext_resource type="Texture2D" uid="uid://dl74edcckhnd" path="res://scenes/ui/button_assets/use_button/use1.png" id="8_6xiik"]
[ext_resource type="PackedScene" uid="uid://db74hr2yilxel" path="res://scenes/map/scenes/aula.tscn" id="8_ckisu"]
[ext_resource type="Texture2D" uid="uid://cb3uggck81vll" path="res://scenes/ui/button_assets/use_button/use3.png" id="9_fe7jm"]
[ext_resource type="PackedScene" uid="uid://deoe0yhjya0it" path="res://scenes/map/scenes/willy.tscn" id="9_r6nh5"]
[ext_resource type="PackedScene" uid="uid://bcr0n6fy1ajvx" path="res://scenes/map/scenes/bufet.tscn" id="10_dswbv"]
[ext_resource type="Texture2D" uid="uid://donjo23ai4rn6" path="res://scenes/ui/button_assets/use_button/use2.png" id="10_lwx2h"]
[ext_resource type="Texture2D" uid="uid://duof0ela0iipq" path="res://scenes/ui/button_assets/close_button/close_button1.png" id="11_28kv6"]
[ext_resource type="PackedScene" uid="uid://dtjxbe3w5aln6" path="res://scenes/map/scenes/samorzad.tscn" id="11_g3ofr"]
[ext_resource type="PackedScene" uid="uid://b7o2j3ukypgy6" path="res://scenes/map/scenes/serwerownia.tscn" id="12_6nmdt"]
[ext_resource type="Texture2D" uid="uid://pmrgxruihggd" path="res://scenes/ui/button_assets/close_button/close_button3.png" id="12_k2ue0"]
[ext_resource type="Texture2D" uid="uid://byv08l1nglh18" path="res://scenes/ui/button_assets/close_button/close_button2.png" id="13_e3x6e"]
[ext_resource type="PackedScene" uid="uid://cjpyjgxwnxvda" path="res://scenes/map/scenes/dziekanat.tscn" id="13_jctr6"]
[ext_resource type="PackedScene" uid="uid://dk3g05gq43kad" path="res://scenes/map/scenes/chillroom.tscn" id="14_8x6md"]
[ext_resource type="PackedScene" uid="uid://gk1uab4ii8k1" path="res://scenes/map/scenes/pielegniarka.tscn" id="15_giha0"]
[ext_resource type="PackedScene" uid="uid://cy5elj455alsv" path="res://scenes/map/scenes/pokoj_wykladowcow.tscn" id="16_e83ls"]
[ext_resource type="PackedScene" uid="uid://qbug4lt0ce46" path="res://scenes/map/scenes/corridors/korytarz_aula_sala_1.tscn" id="17_2k61j"]
[ext_resource type="PackedScene" uid="uid://bcglaee2jl12o" path="res://scenes/map/scenes/corridors/korytarz_samorzad_bufet.tscn" id="18_lljii"]
[ext_resource type="PackedScene" uid="uid://bs65lqtdkpqkd" path="res://scenes/map/scenes/corridors/korytarz_chillroom_wc.tscn" id="19_48mvo"]
[ext_resource type="PackedScene" uid="uid://bsicwruuujpdh" path="res://scenes/map/scenes/corridors/korytarz_sala_2_sala_3.tscn" id="20_oj1hn"]
[ext_resource type="PackedScene" uid="uid://du4wbambleakw" path="res://scenes/map/scenes/corridors/korytarz_chillroom_aula.tscn" id="21_5jspd"]
[ext_resource type="PackedScene" uid="uid://h7j34elcqawo" path="res://scenes/map/scenes/corridors/korytarz_xero_chillroom.tscn" id="22_85x4g"]
[ext_resource type="PackedScene" uid="uid://dx7r7powhfrl" path="res://scenes/map/scenes/corridors/korytarz_chillroom_samorzad.tscn" id="23_us6c6"]
[ext_resource type="PackedScene" uid="uid://bwrknp56vi64y" path="res://scenes/map/scenes/corridors/korytarz_dziekanat_sala_2.tscn" id="24_cj2rh"]
[ext_resource type="PackedScene" uid="uid://dfh2yf2biknok" path="res://scenes/map/scenes/corridors/korytarz_pielegniarka_willy.tscn" id="25_qppn4"]
[ext_resource type="PackedScene" uid="uid://dtke4a6qdlm03" path="res://scenes/map/scenes/corridors/korytarz_sala_2_serwerownia_aula.tscn" id="26_tqpop"]
[ext_resource type="PackedScene" uid="uid://bodsrjrylxs0s" path="res://scenes/map/scenes/corridors/korytarz_serwerownia_pielegniarka.tscn" id="27_71qtx"]
[ext_resource type="PackedScene" uid="uid://1nb6uwps5542" path="res://scenes/map/scenes/corridors/korytarz_willy_sala_1_bufet_pokoj_wykladowcow.tscn" id="28_00vjh"]
[ext_resource type="PackedScene" uid="uid://cwapulye6fjyc" path="res://scenes/sabotages/vent/vent.tscn" id="41_qahoy"]

[node name="Map" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_xvngj")
PlayerScene = ExtResource("2_0ktid")

[node name="Background" type="Node2D" parent="."]

[node name="Wc" parent="Background" instance=ExtResource("3_nbyec")]
position = Vector2(72, 1586)

[node name="Sala1" parent="Background" instance=ExtResource("4_dojmv")]
position = Vector2(1807, -1112)

[node name="Sala2" parent="Background" instance=ExtResource("5_ehcuo")]
position = Vector2(-2727, -1356)

[node name="Sala3" parent="Background" instance=ExtResource("6_j2fhe")]
position = Vector2(-2569, -2712)

[node name="Xero" parent="Background" instance=ExtResource("7_htmn5")]
position = Vector2(-1481, -188)

[node name="Aula" parent="Background" instance=ExtResource("8_ckisu")]
position = Vector2(10, -1072)

[node name="Willy" parent="Background" instance=ExtResource("9_r6nh5")]
position = Vector2(2399, -2368)

[node name="Samorzad" parent="Background" instance=ExtResource("11_g3ofr")]
position = Vector2(1754, 162)

[node name="Serwerownia" parent="Background" instance=ExtResource("12_6nmdt")]
position = Vector2(-1298, -2554)

[node name="Dziekanat" parent="Background" instance=ExtResource("13_jctr6")]
position = Vector2(-2870, 788)

[node name="Chillroom" parent="Background" instance=ExtResource("14_8x6md")]
position = Vector2(2, 492)

[node name="Pielegniarka" parent="Background" instance=ExtResource("15_giha0")]
position = Vector2(531, -2557)

[node name="PokojWykladowcow" parent="Background" instance=ExtResource("16_e83ls")]
position = Vector2(4024, -1720)

[node name="KorytarzAulaSala1" parent="Background" instance=ExtResource("17_2k61j")]
position = Vector2(1046, -1061)

[node name="KorytarzSamorzadBufet" parent="Background" instance=ExtResource("18_lljii")]
position = Vector2(2926, 281)

[node name="KorytarzChillroomWc" parent="Background" instance=ExtResource("19_48mvo")]
position = Vector2(123, 1065)

[node name="KorytarzSala2Sala3" parent="Background" instance=ExtResource("20_oj1hn")]
position = Vector2(-2707, -2088)

[node name="KorytarzChillroomAula" parent="Background" instance=ExtResource("21_5jspd")]
position = Vector2(-17, -94)

[node name="KorytarzXeroChillroom" parent="Background" instance=ExtResource("22_85x4g")]
position = Vector2(-1170, 602)

[node name="KorytarzChillroomSamorzad" parent="Background" instance=ExtResource("23_us6c6")]
position = Vector2(974, 317)

[node name="KorytarzDziekanatSala2" parent="Background" instance=ExtResource("24_cj2rh")]
position = Vector2(-2608, -258)

[node name="KorytarzPielegniarkaWilly" parent="Background" instance=ExtResource("25_qppn4")]
position = Vector2(1488, -2516)

[node name="KorytarzSala2SerwerowniaAula" parent="Background" instance=ExtResource("26_tqpop")]
position = Vector2(-1448, -1634)

[node name="KorytarzSerwerowniaPielegniarka" parent="Background" instance=ExtResource("27_71qtx")]
position = Vector2(-472, -2643)

[node name="KorytarzWillySala1BufetPokojWykladowcow" parent="Background" instance=ExtResource("28_00vjh")]
position = Vector2(3067, -1347)

[node name="Bufet" parent="Background" instance=ExtResource("10_dswbv")]
position = Vector2(3038, -441)

[node name="Players" type="Node2D" parent="."]
y_sort_enabled = true

[node name="Camera" type="Camera2D" parent="."]
zoom = Vector2(0.45, 0.45)
limit_left = -3888
limit_top = -3674
limit_right = 5056
limit_bottom = 2504
limit_smoothed = true
position_smoothing_enabled = true
position_smoothing_speed = 9.0
script = ExtResource("3_gwvgv")

[node name="Timer" type="Timer" parent="Camera"]
one_shot = true

[node name="UseButton" type="TextureButton" parent="Camera"]
visible = false
z_index = 15
offset_left = 693.0
offset_top = 380.0
offset_right = 793.0
offset_bottom = 430.0
focus_mode = 0
disabled = true
texture_normal = ExtResource("8_6xiik")
texture_pressed = ExtResource("9_fe7jm")
texture_hover = ExtResource("10_lwx2h")

[node name="MinigameBackground" type="ColorRect" parent="Camera"]
visible = false
offset_left = -822.0
offset_top = -448.0
offset_right = 852.0
offset_bottom = 466.0
mouse_filter = 2
color = Color(0.34, 0.34, 0.34, 0.67451)

[node name="MinigameContainer" type="SubViewportContainer" parent="Camera"]
visible = false
z_index = 15
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -822.0
offset_top = -448.0
offset_right = 852.0
offset_bottom = 466.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4
size_flags_vertical = 4
size_flags_stretch_ratio = 0.0
focus_mode = 2
mouse_filter = 0

[node name="MinigameViewport" type="SubViewport" parent="Camera/MinigameContainer"]
transparent_bg = true
handle_input_locally = false
physics_object_picking = true
size = Vector2i(1674, 914)
render_target_update_mode = 0

[node name="CloseButton" type="TextureButton" parent="Camera"]
visible = false
z_index = 16
anchors_preset = -1
anchor_left = 0.959
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 812.0
offset_top = -448.0
offset_right = 852.0
offset_bottom = -408.0
grow_horizontal = 2
grow_vertical = 2
focus_mode = 0
texture_normal = ExtResource("11_28kv6")
texture_pressed = ExtResource("12_k2ue0")
texture_hover = ExtResource("13_e3x6e")

[node name="TypeLabel" type="Label" parent="."]
offset_right = 65.0
offset_bottom = 23.0

[node name="Tasks" type="Node2D" parent="."]

[node name="TaskButton" parent="Tasks" instance=ExtResource("3_e0rk4")]
position = Vector2(-35, 379)
sprite = ExtResource("4_wgy3w")
minigame_scene = ExtResource("5_pwcjb")

[node name="TaskButton2" parent="Tasks" instance=ExtResource("3_e0rk4")]
position = Vector2(502, 385)
sprite = ExtResource("6_slh3o")
minigame_scene = ExtResource("4_6s3my")

[node name="Vents" type="Node2D" parent="."]

[node name="VentSystem" type="Node2D" parent="Vents"]

[node name="Vent" parent="Vents/VentSystem" node_paths=PackedStringArray("vent_target_list") instance=ExtResource("41_qahoy")]
position = Vector2(-333, 712)
vent_target_list = [NodePath("../Vent2"), NodePath("../Vent3")]

[node name="Vent2" parent="Vents/VentSystem" node_paths=PackedStringArray("vent_target_list") instance=ExtResource("41_qahoy")]
position = Vector2(-1204, 69)
vent_target_list = [NodePath("../Vent"), NodePath("../Vent3")]

[node name="Vent3" parent="Vents/VentSystem" node_paths=PackedStringArray("vent_target_list") instance=ExtResource("41_qahoy")]
position = Vector2(-530, -384)
vent_target_list = [NodePath("../Vent"), NodePath("../Vent2")]

[connection signal="timeout" from="Camera/Timer" to="Camera" method="_on_timer_timeout"]
[connection signal="pressed" from="Camera/UseButton" to="." method="_on_use_button_pressed"]
